import { applyMixins } from "@lincode/utils";
import { Mesh, MeshStandardMaterial } from "three";
import ObjectManager from "./ObjectManager";
import TexturedBasicMixin from "./mixins/TexturedBasicMixin";
import TexturedStandardMixin from "./mixins/TexturedStandardMixin";
import { primitiveDefaults, primitiveSchema } from "../../interface/IPrimitive";
class Primitive extends ObjectManager {
    constructor(geometry, transparent) {
        const material = new MeshStandardMaterial(transparent ? { transparent: true } : undefined);
        const mesh = new Mesh(geometry, material);
        // mesh.castShadow = true
        // mesh.receiveShadow = true
        super(mesh);
        this.material = material;
        this.transparent = transparent;
    }
    dispose() {
        super.dispose();
        this.material.dispose();
        return this;
    }
}
Primitive.defaults = primitiveDefaults;
Primitive.schema = primitiveSchema;
applyMixins(Primitive, [TexturedBasicMixin, TexturedStandardMixin]);
export default Primitive;
